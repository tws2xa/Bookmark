<html>
<head>
    <!-- Jquery -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/ColorScheme.js"></script>

    <script type="text/javascript" src = "js\DataFetcher.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/homepagecss.css">

    <!-- Make sure the user is a teacher -->
    <script type = "text/javascript">

        if(sessionStorage.studentId == null) {
            window.location.href = "./login.html";
        } else {
            var isTeacher = isTeacherId(sessionStorage.studentId);
            if(!isTeacher) {
                window.location.href = "./login.html";
            }
        }

        // Load in Student List
        var studentNames = [];
        var studentTeams = {}; // Key Value Pair { Student Name: Table Column}
        var studentXML = getStudentList(sessionStorage.studentId); // DataFetcher.js
        var innerListXML = $(studentXML).find("student_list");
        $(innerListXML).find("student_name").each(function(index, element) {
            var name = $(element).text().trim();
            studentNames.push(name);
            studentTeams[name] = -1;
        });
        studentNames.sort();

        /**
         * Set up data to send to student_info page.
         */
        function viewDeck(studentName, assignmentName) {
            return true;
        }
    </script>
  <title>Class Information</title>
</head>
<body>
    <!-- Nav Bar -->
    <div class="nav">
        <div class = "container";>
            <ul id="left" class="pull-left">
                <a href="homepage.html">Home</a> 
                <a href="workshop.html">Workshop</a>
                <a href="play.html">Play</a>
                <a href="Board.html">Board</a>
           </ul>
            <ul id="right" class="pull-right">
                <!-- Login/Logout filled via script at bottom of page -->
            </ul>
        </div>
    </div>

    <br />
    <br />

    <form action="./student_info.html">
        <div id="assignments" class="col-lg-offset-1 col-lg-10">

            <label>Assignment 1</label>
            <table id="assignment1Tbl" class="stripeTbl">
                <thead>
                <tr><th>Student Name</th><th>Number of Cards</th></th><th>View Deck</th></tr>
                </thead>
                <tbody>

                </tbody>
            </table>
            <br />

            <label>Assignment 2</label>
            <table id="assignment2Tbl" class="stripeTbl">
                <thead>
                <tr><th>Student Name</th><th>Number of Cards</th><th>View Deck</th></tr>
                </thead>
                <tbody>

                </tbody>
            </table>
            <br />

            <label>Assignment 3</label>
            <table id="assignment3Tbl" class="stripeTbl">
                <thead>
                <tr><th>Student Name</th><th>Number of Cards</th><th>View Deck</th></tr>
                </thead>
                <tbody>

                </tbody>
            </table>
            <br />

            <label>Assignment 4</label>
            <table id="assignment4Tbl" class="stripeTbl">
                <thead>
                <tr><th>Student Name</th><th>Number of Cards</th><th>View Deck</th></tr>
                </thead>
                <tbody>

                </tbody>
            </table>
            <br />

            <label>Assignment 5</label>
            <table id="assignment5Tbl" class="stripeTbl">
                <thead>
                <tr><th>Student Name</th><th>Number of Cards</th><th>View Deck</th></tr>
                </thead>
                <tbody>

                </tbody>
            </table>
            <br />
        </div>
    </form>


</body>

<script type = "text/javascript">

    $('.stripeTbl').each(function(tblNum, obj) {
        for (var i = 0; i < 10; i++) {
            var assignmentName = "Assignment";
            var randNum = Math.floor((Math.random() * 8999) + 1000);
            var randCardsNum = Math.floor((Math.random() * 15) + 5);
            var appStr = "<tr>";
            appStr += "<td>" + randNum + "</td>";
            appStr += "<td>" + randCardsNum + "</td>";
            appStr += "<td><input type='submit' value='View Deck' onclick='return viewDeck(" + randNum + ", " + assignmentName + ");'></td>";
            appStr += "</tr>";
            console.log(appStr);
            $(obj).find("tbody:last-child").append(appStr);
        }
    });

     if(isTeacherId(sessionStorage.studentId)) { 
       /*  var navBar = document.getElementById("left");
         var newButton = document.createTextNode(msgStr);
         navBar.appendChild(textToAdd);

         <a id="Teacher">Teacher</a>*/
         $("#left").append('<a href="teacher_junction.html">Teacher</a>');
      }
      
      if(sessionStorage.studentId != null) {
               $("#right").append('<a href="login.html">Logout</a>');
        }
            
    if(sessionStorage.studentId == null) {
            $("#right").append('<a href="login.html">Login</a>');
    }
</script>
</html>